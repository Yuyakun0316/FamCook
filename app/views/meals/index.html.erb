<div class="meals-index-container">
  <h2 class="meals-index-title">çŒ®ç«‹ãƒªã‚¹ãƒˆ</h2>

  <!-- æœˆåˆ‡ã‚Šæ›¿ãˆ -->
  <div class="meals-month-switch">
    <%= link_to "< #{(@current_month - 1.month).strftime('%-mæœˆ')}", meals_path(month: (@current_month - 1.month)), class: "month-btn" %>
    <span class="current-month"><%= @current_month.strftime('%Yå¹´ %-mæœˆ') %></span>
    <%= link_to "#{(@current_month + 1.month).strftime('%-mæœˆ')} >", meals_path(month: (@current_month + 1.month)), class: "month-btn" %>
  </div>

  <% @meals.each do |meal| %>
    <div class="meal-card">
      <div class="meal-card-image">
        <% if meal.images.attached? %>
          <%= image_tag meal.images.first, class: "meal-thumbnail" %>
        <% else %>
          <div class="meal-no-image">ï¼Ÿ</div>
        <% end %>
      </div>

      <% jp_weekdays = %w[æ—¥ æœˆ ç« æ°´ æœ¨ é‡‘ åœŸ] %>

      <div class="meal-card-content">
        <div class="meal-date">
          <%= meal.date.strftime("%Yå¹´ %-mæœˆ%-dæ—¥") %>
          ï¼ˆ<%= jp_weekdays[meal.date.wday] %>ï¼‰
        </div>

        

        <div class="meal-title"><%= meal.title %></div>
        <div class="meal-description"><%= truncate(meal.description, length: 50) %></div>
        <!-- ðŸ‘¤ æŠ•ç¨¿è€…è¡¨ç¤º -->
        <p class="meal-user">
          <i class="fa-solid fa-user"></i>
          ðŸ‘¤ <%= meal.user == current_user ? 'ã‚ãªãŸ' : meal.user.name %>
        </p>
        <%= link_to "è©³ç´°ã‚’è¦‹ã‚‹ >", meal_path(meal), class: "meal-detail-link" %>
      </div>
    </div>
  <% end %>
</div>